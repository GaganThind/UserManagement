<div class="container container-main">
    <form [formGroup]="signUpForm" class="text-center border border-light p-5" (ngSubmit)="signUp()">
    
        <p class="h4 mb-4">Sign up</p>
        
        <!-- First name & Last name -->
        <div class="form-row mb-4">
            <div class="col">
                <input type="text" id="firstName" name="firstName" title="First Name" class="form-control" placeholder="First name"
                 formControlName="firstName" required>
            </div>
            <div *ngIf="frm.firstName.invalid && (frm.firstName.dirty || frm.firstName.touched || submitted)" class="alert alert-danger">
                <div *ngIf="frm.firstName.errors?.required">
                    First Name is required
                </div>
            </div>

            <div class="col">
                <input type="text" id="lastName" name="lastName" title="Last Name" class="form-control" placeholder="Last name"
                formControlName="lastName" required>
            </div>
            <div *ngIf="frm.lastName.invalid && (frm.lastName.dirty || frm.lastName.touched || submitted)" class="alert alert-danger">
                <div *ngIf="frm.lastName.errors?.required">
                    Last Name is required
                </div>
            </div>
        </div>
    
        <!-- Email -->
        <input type="email" id="email" name="email" title="Email" class="form-control mb-4" placeholder="E-mail"
         formControlName="email" required>
        <div *ngIf="frm.email.invalid && (frm.email.dirty || frm.email.touched || submitted)" class="alert alert-danger">
            <div *ngIf="frm.email.errors?.required">
                Email is required
            </div>
            <div *ngIf="frm.email.errors?.email">
                Email must be a valid email address
            </div>
        </div>
    
        <!-- Password -->
        <input type="password" id="password" name="password" title="Password" class="form-control" placeholder="Password"
            aria-describedby="passwordHelpBlock" formControlName="password" required>
        <small id="passwordHelpBlock" class="form-text text-muted mb-4">
            At least 8 characters and 1 digit
        </small>
        <div *ngIf="frm.password.invalid && (frm.password.dirty || frm.password.touched || submitted)" class="alert alert-danger">
            <div *ngIf="frm.password.errors?.required">
                Password is required
            </div>
            <div *ngIf="frm.password.errors?.minlength">
                Password needs to be of 8 minimum length
            </div>
        </div>

        <!-- Confirm Password -->
        <input type="password" id="matchingPassword" name="matchingPassword" title ="Confirm Password" class="form-control" placeholder="Confirm Password"
            aria-describedby="matchingPasswordHelpBlock" formControlName="matchingPassword" 
            required>
        <small id="matchingPasswordHelpBlock" class="form-text text-muted mb-4">
            Should match the password
        </small>
        <div *ngIf="frm.matchingPassword.dirty || frm.matchingPassword.touched || submitted">
            <div *ngIf="frm.matchingPassword.invalid && frm.matchingPassword.errors?.required" class="alert alert-danger">
                Confirm Password is required
            </div>
            <div *ngIf="frm.password.value != frm.matchingPassword.value" class="alert alert-danger">
                Password & Confirm password does not match
            </div>
        </div>
        
        <!-- Phone -->
        <input type="text" id="phoneNumber" name="phoneNumber" title="Phone number" class="form-control" placeholder="Phone number"
            aria-describedby="phonehelpBlock" formControlName="phoneNumber">
        <small id="phonehelpBlock" class="form-text text-muted mb-4">
            Optional - for two-step authentication
        </small>

        <!-- Date of Birth -->
        <div>
            <input type="date" id="dob" name="dob" title="Date of Birth" class="form-control" placeholder="Date of Birth"
             formControlName="dob">
        </div>
        <br>

        <!-- Gender -->
        <div>
            <select id="gender" name="gender" title="gender" class="form-control" formControlName="gender">
                <option id="m" value="M">Male</option>
                <option id="f" value="F">Female</option>
                <option id="o" value="O">Others</option>
            </select>
        </div>
        <br>
    
        <!-- Sign up button -->
        <button
            class="btn btn-lg btn-primary btn-block btn-signUp text-uppercase font-weight-bold mb-2"
            [disabled] = "isLoading"
            type="submit">
            <span *ngIf="isLoading"><i class="fas fa-spinner"></i></span>
            Sign Up
        </button>
    
        <hr>
    
        <!-- Terms of service -->
        <p>By clicking
            <em>Sign up</em>, you agree to our
            <a href="" target="_blank">terms of service</a>
        </p>
    
    </form>
</div>